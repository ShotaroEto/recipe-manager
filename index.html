<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÈÄ±Êú´‰Ωú„ÇäÁΩÆ„ÅçÁÆ°ÁêÜ</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* „Çø„Éñ„ÅÆ„Ç¢„ÇØ„ÉÜ„Ç£„ÉñÁä∂ÊÖã„Çπ„Çø„Ç§„É´ */
        .tab-active {
            background-color: #C97D60 !important;
            color: white !important;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Shadcn/uiÈ¢®„ÅÆ„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàÔºàÁ∞°ÊòìÁâàÔºâ
        const Card = ({ children, className = '', style }) => (
            <div className={`rounded-lg border shadow-sm ${className}`} style={style}>
                {children}
            </div>
        );

        const CardHeader = ({ children, className = '' }) => (
            <div className={`p-6 pb-4 ${className}`}>
                {children}
            </div>
        );

        const CardTitle = ({ children, className = '', style }) => (
            <h3 className={`text-2xl font-semibold leading-none tracking-tight ${className}`} style={style}>
                {children}
            </h3>
        );

        const CardDescription = ({ children, className = '', style }) => (
            <p className={`text-sm mt-1.5 ${className}`} style={style}>
                {children}
            </p>
        );

        const CardContent = ({ children, className = '' }) => (
            <div className={`p-6 pt-0 ${className}`}>
                {children}
            </div>
        );

        const Button = ({ children, onClick, disabled, variant = 'default', size = 'default', className = '', style, onMouseEnter, onMouseLeave, onMouseDown, onMouseUp, type = 'button' }) => {
            const baseClasses = 'inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50';
            const sizes = {
                default: 'h-10 px-4 py-2',
                sm: 'h-8 px-3 text-sm'
            };
            return (
                <button 
                    type={type}
                    onClick={onClick}
                    disabled={disabled}
                    className={`${baseClasses} ${sizes[size]} ${className}`}
                    style={style}
                    onMouseEnter={onMouseEnter}
                    onMouseLeave={onMouseLeave}
                    onMouseDown={onMouseDown}
                    onMouseUp={onMouseUp}
                >
                    {children}
                </button>
            );
        };

        const Input = ({ id, type = 'text', value, onChange, placeholder, className = '', style, min, max }) => (
            <input
                id={id}
                type={type}
                value={value}
                onChange={onChange}
                placeholder={placeholder}
                min={min}
                max={max}
                className={`flex h-10 w-full rounded-md border px-3 py-2 text-sm focus:outline-none focus:ring-2 ${className}`}
                style={style}
            />
        );

        const Label = ({ htmlFor, children, className = '', style }) => (
            <label htmlFor={htmlFor} className={`text-sm font-medium leading-none ${className}`} style={style}>
                {children}
            </label>
        );

        const Badge = ({ children, className = '', style }) => (
            <span className={`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold ${className}`} style={style}>
                {children}
            </span>
        );

        const Tabs = ({ children, defaultValue, className }) => {
            const [activeTab, setActiveTab] = useState(defaultValue);
            return (
                <div className={className}>
                    {React.Children.map(children, child =>
                        React.cloneElement(child, { activeTab, setActiveTab })
                    )}
                </div>
            );
        };

        const TabsList = ({ children, activeTab, setActiveTab, className = '', style }) => (
            <div className={className} style={style}>
                {React.Children.map(children, child =>
                    React.cloneElement(child, { activeTab, setActiveTab })
                )}
            </div>
        );

        const TabsTrigger = ({ value, children, activeTab, setActiveTab, className = '', style }) => (
            <button
                onClick={() => setActiveTab(value)}
                className={`inline-flex items-center justify-center whitespace-nowrap rounded-lg px-3 py-1.5 text-sm font-medium transition-all ${activeTab === value ? 'tab-active' : ''} ${className}`}
                style={activeTab === value ? { backgroundColor: '#C97D60', color: 'white' } : style}
            >
                {children}
            </button>
        );

        const TabsContent = ({ value, children, activeTab }) => (
            activeTab === value ? <div className="mt-2">{children}</div> : null
        );

        // „Ç¢„Ç§„Ç≥„É≥„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà
        const ChefHat = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
            </svg>
        );

        const Flame = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" />
            </svg>
        );

        const Calendar = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
        );

        const Plus = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
            </svg>
        );

        const Trash2 = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
        );

        const RefreshCw = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
        );

        const Check = ({ className, style }) => (
            <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
            </svg>
        );

        // „É°„Ç§„É≥„Ç¢„Éó„É™
        const MealPrepApp = () => {
            const [recipes, setRecipes] = useState([]);
            const [newRecipe, setNewRecipe] = useState({
                name: '',
                type: 'ÁÇäÈ£ØÂô®',
                ingredients: ['']
            });
            const [searchIngredient, setSearchIngredient] = useState('');
            const [suggestion, setSuggestion] = useState({
                riceCooker: '1',
                stove: '1'
            });
            const [suggestedRecipes, setSuggestedRecipes] = useState([]);
            const [sortedRecipesByType, setSortedRecipesByType] = useState({
                riceCooker: [],
                stove: []
            });
            const [currentIndices, setCurrentIndices] = useState({
                riceCooker: [],
                stove: []
            });

            useEffect(() => {
                const saved = localStorage.getItem('mealPrepRecipes');
                if (saved) {
                    setRecipes(JSON.parse(saved));
                }
            }, []);

            useEffect(() => {
                if (recipes.length > 0 || localStorage.getItem('mealPrepRecipes')) {
                    localStorage.setItem('mealPrepRecipes', JSON.stringify(recipes));
                }
            }, [recipes]);

            const updateIngredient = (index, value) => {
                const newIngredients = [...newRecipe.ingredients];
                newIngredients[index] = value;
                setNewRecipe({...newRecipe, ingredients: newIngredients});
            };

            const addIngredientField = () => {
                setNewRecipe({...newRecipe, ingredients: [...newRecipe.ingredients, '']});
            };

            const removeIngredientField = (index) => {
                if (newRecipe.ingredients.length > 1) {
                    const newIngredients = newRecipe.ingredients.filter((_, i) => i !== index);
                    setNewRecipe({...newRecipe, ingredients: newIngredients});
                }
            };

            const addRecipe = () => {
                if (!newRecipe.name.trim()) return;
                const recipe = {
                    id: Date.now(),
                    name: newRecipe.name,
                    type: newRecipe.type,
                    ingredients: newRecipe.ingredients.filter(i => i.trim() !== ''),
                    lastCooked: null,
                    cookedCount: 0
                };
                setRecipes([...recipes, recipe]);
                setNewRecipe({ name: '', type: 'ÁÇäÈ£ØÂô®', ingredients: [''] });
            };

            const deleteRecipe = (id) => {
                setRecipes(recipes.filter(r => r.id !== id));
            };

            const markAsCooked = (id) => {
                setRecipes(recipes.map(r => 
                    r.id === id 
                        ? { ...r, lastCooked: new Date().toISOString(), cookedCount: r.cookedCount + 1 }
                        : r
                ));
            };

            const generateSuggestions = () => {
                const riceCookerRecipes = recipes.filter(r => r.type === 'ÁÇäÈ£ØÂô®');
                const stoveRecipes = recipes.filter(r => r.type === '„Ç≥„É≥„É≠');
                const sortByLastCooked = (a, b) => {
                    if (!a.lastCooked && !b.lastCooked) return 0;
                    if (!a.lastCooked) return -1;
                    if (!b.lastCooked) return 1;
                    return new Date(a.lastCooked) - new Date(b.lastCooked);
                };
                const sortedRiceCooker = [...riceCookerRecipes].sort(sortByLastCooked);
                const sortedStove = [...stoveRecipes].sort(sortByLastCooked);
                setSortedRecipesByType({ riceCooker: sortedRiceCooker, stove: sortedStove });
                const riceCookerCount = parseInt(suggestion.riceCooker) || 0;
                const stoveCount = parseInt(suggestion.stove) || 0;
                setCurrentIndices({
                    riceCooker: Array(riceCookerCount).fill(0).map((_, i) => i),
                    stove: Array(stoveCount).fill(0).map((_, i) => i)
                });
                const suggested = [
                    ...sortedRiceCooker.slice(0, riceCookerCount).map((recipe, idx) => ({...recipe, suggestionIndex: idx, suggestionType: 'riceCooker'})),
                    ...sortedStove.slice(0, stoveCount).map((recipe, idx) => ({...recipe, suggestionIndex: idx, suggestionType: 'stove'}))
                ];
                setSuggestedRecipes(suggested);
            };

            const showNextRecipe = (suggestionType, suggestionIndex) => {
                const newIndices = {...currentIndices};
                const maxIndex = sortedRecipesByType[suggestionType].length;
                newIndices[suggestionType][suggestionIndex] = (newIndices[suggestionType][suggestionIndex] + 1) % maxIndex;
                setCurrentIndices(newIndices);
                const newSuggested = [
                    ...currentIndices.riceCooker.map((idx, i) => {
                        const actualIdx = suggestionType === 'riceCooker' && i === suggestionIndex ? newIndices.riceCooker[i] : idx;
                        const recipe = sortedRecipesByType.riceCooker[actualIdx];
                        return recipe ? {...recipe, suggestionIndex: i, suggestionType: 'riceCooker'} : null;
                    }).filter(r => r !== null),
                    ...currentIndices.stove.map((idx, i) => {
                        const actualIdx = suggestionType === 'stove' && i === suggestionIndex ? newIndices.stove[i] : idx;
                        const recipe = sortedRecipesByType.stove[actualIdx];
                        return recipe ? {...recipe, suggestionIndex: i, suggestionType: 'stove'} : null;
                    }).filter(r => r !== null)
                ];
                setSuggestedRecipes(newSuggested);
            };

            const getFilteredRecipes = () => {
                if (!searchIngredient.trim()) return recipes;
                return recipes.filter(recipe => 
                    recipe.ingredients.some(ingredient => 
                        ingredient.toLowerCase().includes(searchIngredient.toLowerCase())
                    )
                );
            };

            const formatDate = (dateString) => {
                if (!dateString) return 'Êú™Ë™øÁêÜ';
                const date = new Date(dateString);
                const now = new Date();
                const diffDays = Math.floor((now - date) / (1000 * 60 * 60 * 24));
                if (diffDays === 0) return '‰ªäÊó•';
                if (diffDays === 1) return 'Êò®Êó•';
                if (diffDays < 7) return `${diffDays}Êó•Ââç`;
                if (diffDays < 30) return `${Math.floor(diffDays / 7)}ÈÄ±ÈñìÂâç`;
                return `${date.getMonth() + 1}/${date.getDate()}`;
            };

            const getTypeInfo = (type) => {
                if (type === 'ÁÇäÈ£ØÂô®') {
                    return { 
                        icon: ChefHat, 
                        style: { backgroundColor: '#7B9369' },
                        borderColor: '#7B9369',
                        textColor: '#7B9369',
                        label: 'ÁÇäÈ£ØÂô®' 
                    };
                }
                return { 
                    icon: Flame, 
                    style: { backgroundColor: '#B28A63' },
                    borderColor: '#B28A63',
                    textColor: '#B28A63',
                    label: '„Ç≥„É≥„É≠' 
                };
            };

            return (
                <div className="min-h-screen p-4 pb-20" style={{ backgroundColor: '#F9F6F1' }}>
                    <div className="max-w-xl mx-auto">
                        <div className="text-center mb-6 pt-2">
                            <h1 className="text-3xl font-bold mb-2" style={{ color: '#333333' }}>üç± ÈÄ±Êú´‰Ωú„ÇäÁΩÆ„Åç</h1>
                            <p className="text-sm" style={{ color: '#666666' }}>ÁåÆÁ´ã„ÇíÁôªÈå≤„Åó„Å¶„ÄÅÊ•Ω„ÄÖÁåÆÁ´ã‰Ωú„Çä</p>
                        </div>

                        <Tabs defaultValue="suggest" className="w-full">
                            <TabsList className="grid w-full grid-cols-3 mb-6 border rounded-xl p-1" style={{ backgroundColor: 'white', borderColor: '#E2D9CF' }}>
                                <TabsTrigger value="suggest" style={{ color: '#666666' }}>ÁåÆÁ´ãÊèêÊ°à</TabsTrigger>
                                <TabsTrigger value="list" style={{ color: '#666666' }}>ÊñôÁêÜ‰∏ÄË¶ß</TabsTrigger>
                                <TabsTrigger value="add" style={{ color: '#666666' }}>Êñ∞Ë¶èÁôªÈå≤</TabsTrigger>
                            </TabsList>

                            <TabsContent value="suggest">
                                <Card className="bg-white shadow-sm" style={{ borderColor: '#E2D9CF' }}>
                                    <CardHeader className="pb-4">
                                        <CardTitle className="text-xl" style={{ color: '#333333' }}>‰ªäÈÄ±„ÅÆÁåÆÁ´ã„ÇíÊèêÊ°à</CardTitle>
                                        <CardDescription style={{ color: '#666666' }}>ÂøÖË¶Å„Å™„É°„Éã„É•„ÉºÊï∞„ÇíÊåáÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ</CardDescription>
                                    </CardHeader>
                                    <CardContent className="space-y-4">
                                        <div className="grid grid-cols-2 gap-3">
                                            <div>
                                                <Label htmlFor="riceCooker" className="text-sm font-medium" style={{ color: '#333333' }}>ÁÇäÈ£ØÂô®„É°„Éã„É•„Éº</Label>
                                                <Input
                                                    id="riceCooker"
                                                    type="number"
                                                    min="0"
                                                    max="5"
                                                    value={suggestion.riceCooker}
                                                    onChange={(e) => setSuggestion({...suggestion, riceCooker: e.target.value})}
                                                    className="mt-1.5 bg-white"
                                                    style={{ borderColor: '#E2D9CF', color: '#333333' }}
                                                />
                                            </div>
                                            <div>
                                                <Label htmlFor="stove" className="text-sm font-medium" style={{ color: '#333333' }}>„Ç≥„É≥„É≠„É°„Éã„É•„Éº</Label>
                                                <Input
                                                    id="stove"
                                                    type="number"
                                                    min="0"
                                                    max="5"
                                                    value={suggestion.stove}
                                                    onChange={(e) => setSuggestion({...suggestion, stove: e.target.value})}
                                                    className="mt-1.5 bg-white"
                                                    style={{ borderColor: '#E2D9CF', color: '#333333' }}
                                                />
                                            </div>
                                        </div>

                                        <Button 
                                            onClick={generateSuggestions} 
                                            className="w-full text-white shadow-sm"
                                            style={recipes.length === 0
                                                ? { backgroundColor: '#E0C3B5', cursor: 'not-allowed' }
                                                : { backgroundColor: '#C97D60' }
                                            }
                                            onMouseEnter={(e) => {
                                                if (recipes.length > 0) e.currentTarget.style.backgroundColor = '#B46D52';
                                            }}
                                            onMouseLeave={(e) => {
                                                if (recipes.length > 0) e.currentTarget.style.backgroundColor = '#C97D60';
                                            }}
                                            disabled={recipes.length === 0}
                                        >
                                            <RefreshCw className="mr-2 h-4 w-4" />
                                            ÁåÆÁ´ã„ÇíÊèêÊ°à
                                        </Button>

                                        {suggestedRecipes.length > 0 && (
                                            <div className="mt-6 space-y-3">
                                                <h3 className="font-semibold text-lg" style={{ color: '#333333' }}>‰ªäÈÄ±„ÅÆ„Åä„Åô„Åô„ÇÅÁåÆÁ´ã</h3>
                                                {suggestedRecipes.map((recipe) => {
                                                    const typeInfo = getTypeInfo(recipe.type);
                                                    const Icon = typeInfo.icon;
                                                    return (
                                                        <Card key={`${recipe.id}-${recipe.suggestionIndex}`} className="bg-white shadow-sm" style={{ borderColor: '#E2D9CF' }}>
                                                            <CardContent className="p-4 pt-5">
                                                                <div className="mb-3">
                                                                    <div className="mb-3">
                                                                        <Badge className="text-white border-0" style={typeInfo.style}>
                                                                            <Icon className="h-3 w-3 mr-1" />
                                                                            {typeInfo.label}
                                                                        </Badge>
                                                                    </div>
                                                                    <h3 className="font-semibold text-lg mb-2" style={{ color: '#333333' }}>{recipe.name}</h3>
                                                                    {recipe.ingredients.length > 0 && (
                                                                        <div className="text-sm mb-2" style={{ color: '#666666' }}>
                                                                            <span className="font-medium" style={{ color: '#333333' }}>ÊùêÊñôÔºö</span>
                                                                            {recipe.ingredients.join(', ')}
                                                                        </div>
                                                                    )}
                                                                    <div className="flex items-center gap-2 text-sm">
                                                                        <Calendar className="h-4 w-4" style={{ color: '#C97D60' }} />
                                                                        <span style={{ color: '#666666' }}>ÊúÄÁµÇË™øÁêÜ: {formatDate(recipe.lastCooked)}</span>
                                                                    </div>
                                                                </div>
                                                                <div className="grid grid-cols-2 gap-2">
                                                                    <Button
                                                                        variant="outline"
                                                                        size="sm"
                                                                        onClick={() => showNextRecipe(recipe.suggestionType, recipe.suggestionIndex)}
                                                                        style={{ borderColor: '#E2D9CF', backgroundColor: 'white', color: '#333333' }}
                                                                        onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#F9F6F1'}
                                                                        onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'white'}
                                                                    >
                                                                        <RefreshCw className="h-3 w-3 mr-1" />
                                                                        Âà•„ÅÆÊñôÁêÜ
                                                                    </Button>
                                                                    <Button
                                                                        size="sm"
                                                                        onClick={() => markAsCooked(recipe.id)}
                                                                        className="text-white"
                                                                        style={{ backgroundColor: '#C97D60' }}
                                                                        onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#B46D52'}
                                                                        onMouseLeave={(e) => e.currentTarget.style.backgroundColor = '#C97D60'}
                                                                    >
                                                                        <Check className="h-4 w-4 mr-1" />
                                                                        ‰Ωú„Å£„ÅüÔºÅ
                                                                    </Button>
                                                                </div>
                                                            </CardContent>
                                                        </Card>
                                                    );
                                                })}
                                            </div>
                                        )}

                                        {recipes.length === 0 && (
                                            <div className="text-center py-10" style={{ color: '#666666' }}>
                                                „Åæ„Å†ÊñôÁêÜ„ÅåÁôªÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì<br />
                                                <span className="text-sm">„ÄåÊñ∞Ë¶èÁôªÈå≤„Äç„Çø„Éñ„Åã„ÇâÊñôÁêÜ„ÇíÁôªÈå≤„Åó„Å¶„Åè„Å†„Åï„ÅÑ</span>
                                            </div>
                                        )}
                                    </CardContent>
                                </Card>
                            </TabsContent>

                            <TabsContent value="list">
                                <Card className="bg-white shadow-sm" style={{ borderColor: '#E2D9CF' }}>
                                    <CardHeader className="pb-4">
                                        <CardTitle className="text-xl" style={{ color: '#333333' }}>ÁôªÈå≤Ê∏à„ÅøÊñôÁêÜ‰∏ÄË¶ß</CardTitle>
                                        <CardDescription style={{ color: '#666666' }}>ÂÖ®{recipes.length}ÂìÅ„ÅÆÊñôÁêÜ„ÅåÁôªÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åô</CardDescription>
                                    </CardHeader>
                                    <CardContent>
                                        <div className="mb-4">
                                            <Label htmlFor="searchIngredient" className="text-sm font-medium" style={{ color: '#333333' }}>ÊùêÊñô„ÅßÊ§úÁ¥¢</Label>
                                            <Input
                                                id="searchIngredient"
                                                placeholder="‰æã: „Åò„ÇÉ„Åå„ÅÑ„ÇÇ"
                                                value={searchIngredient}
                                                onChange={(e) => setSearchIngredient(e.target.value)}
                                                className="mt-1.5 bg-white"
                                                style={{ borderColor: '#E2D9CF', color: '#333333' }}
                                            />
                                            {searchIngredient && (
                                                <p className="text-xs mt-1.5" style={{ color: '#666666' }}>
                                                    „Äå{searchIngredient}„Äç„ÇíÂê´„ÇÄÊñôÁêÜ: {getFilteredRecipes().length}ÂìÅ
                                                </p>
                                            )}
                                        </div>
                                        <div className="space-y-4">
                                            {['ÁÇäÈ£ØÂô®', '„Ç≥„É≥„É≠'].map((type) => {
                                                const filteredRecipes = getFilteredRecipes().filter(r => r.type === type);
                                                const typeInfo = getTypeInfo(type);
                                                const Icon = typeInfo.icon;
                                                if (filteredRecipes.length === 0) return null;
                                                return (
                                                    <div key={type} className="mb-4">
                                                        <div className="flex items-center gap-2 mb-3">
                                                            <Badge className="text-white border-0" style={typeInfo.style}>
                                                                <Icon className="h-3 w-3 mr-1" />
                                                                {typeInfo.label}
                                                            </Badge>
                                                            <span className="text-sm" style={{ color: '#666666' }}>{filteredRecipes.length}ÂìÅ</span>
                                                        </div>
                                                        <div className="space-y-2">
                                                            {filteredRecipes
                                                                .sort((a, b) => {
                                                                    if (!a.lastCooked && !b.lastCooked) return 0;
                                                                    if (!a.lastCooked) return -1;
                                                                    if (!b.lastCooked) return 1;
                                                                    return new Date(a.lastCooked) - new Date(b.lastCooked);
                                                                })
                                                                .map((recipe) => (
                                                                    <Card key={recipe.id} className="bg-white shadow-sm" style={{ borderColor: '#E2D9CF' }}>
                                                                        <CardContent className="px-3 pt-4 pb-2">
                                                                            <div className="flex items-start justify-between mb-3">
                                                                                <div className="flex-1 min-w-0">
                                                                                    <h4 className="font-semibold mb-1" style={{ color: '#333333' }}>{recipe.name}</h4>
                                                                                    {recipe.ingredients.length > 0 && (
                                                                                        <p className="text-xs truncate" style={{ color: '#666666' }}>{recipe.ingredients.join(', ')}</p>
                                                                                    )}
                                                                                </div>
                                                                                <div className="flex gap-2 ml-2 flex-shrink-0">
                                                                                    <Button
                                                                                        size="sm"
                                                                                        onClick={() => markAsCooked(recipe.id)}
                                                                                        className="text-white h-9 px-3"
                                                                                        style={{ backgroundColor: '#C97D60' }}
                                                                                        onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#B46D52'}
                                                                                        onMouseLeave={(e) => e.currentTarget.style.backgroundColor = '#C97D60'}
                                                                                    >
                                                                                        <Check className="h-4 w-4 mr-1" />
                                                                                        ‰Ωú„Å£„ÅüÔºÅ
                                                                                    </Button>
                                                                                    <Button
                                                                                        size="sm"
                                                                                        variant="outline"
                                                                                        onClick={() => deleteRecipe(recipe.id)}
                                                                                        className="h-9 w-9 p-0"
                                                                                        style={{ borderColor: '#E2D9CF', backgroundColor: 'white' }}
                                                                                        onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#FEF5F0'}
                                                                                        onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'white'}
                                                                                    >
                                                                                        <Trash2 className="h-4 w-4 text-red-500" />
                                                                                    </Button>
                                                                                </div>
                                                                            </div>
                                                                            <div className="flex items-center gap-3 text-xs pt-2 border-t" style={{ color: '#666666', borderColor: '#E2D9CF' }}>
                                                                                <span>ÊúÄÁµÇ: {formatDate(recipe.lastCooked)}</span>
                                                                                <span>ÂõûÊï∞: {recipe.cookedCount}Âõû</span>
                                                                            </div>
                                                                        </CardContent>
                                                                    </Card>
                                                                ))}
                                                        </div>
                                                    </div>
                                                );
                                            })}
                                            {recipes.length === 0 && (
                                                <div className="text-center py-10" style={{ color: '#666666' }}>„Åæ„Å†ÊñôÁêÜ„ÅåÁôªÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì</div>
                                            )}
                                            {recipes.length > 0 && getFilteredRecipes().length === 0 && (
                                                <div className="text-center py-10" style={{ color: '#666666' }}>„Äå{searchIngredient}„Äç„ÇíÂê´„ÇÄÊñôÁêÜ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü</div>
                                            )}
                                        </div>
                                    </CardContent>
                                </Card>
                            </TabsContent>

                            <TabsContent value="add">
                                <Card className="bg-white shadow-sm" style={{ borderColor: '#E2D9CF' }}>
                                    <CardHeader className="pb-4">
                                        <CardTitle className="text-xl" style={{ color: '#333333' }}>Êñ∞„Åó„ÅÑÊñôÁêÜ„ÇíÁôªÈå≤</CardTitle>
                                        <CardDescription style={{ color: '#666666' }}>ÊñôÁêÜÂêç„ÄÅË™øÁêÜÂô®ÂÖ∑„ÄÅÊùêÊñô„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ</CardDescription>
                                    </CardHeader>
                                    <CardContent className="space-y-4">
                                        <div>
                                            <Label htmlFor="recipeName" className="text-sm font-medium" style={{ color: '#333333' }}>ÊñôÁêÜÂêç</Label>
                                            <Input
                                                id="recipeName"
                                                placeholder="‰æã: ËÇâ„Åò„ÇÉ„Åå"
                                                value={newRecipe.name}
                                                onChange={(e) => setNewRecipe({...newRecipe, name: e.target.value})}
                                                className="mt-1.5 bg-white"
                                                style={{ borderColor: '#E2D9CF', color: '#333333' }}
                                            />
                                        </div>

                                        <div>
                                            <Label className="text-sm font-medium" style={{ color: '#333333' }}>Ë™øÁêÜÂô®ÂÖ∑</Label>
                                            <div className="grid grid-cols-2 gap-2 mt-1.5">
                                                <Button
                                                    type="button"
                                                    onClick={() => setNewRecipe({...newRecipe, type: 'ÁÇäÈ£ØÂô®'})}
                                                    className="w-full"
                                                    style={newRecipe.type === 'ÁÇäÈ£ØÂô®' 
                                                        ? { backgroundColor: '#7B9369', borderColor: '#7B9369', color: 'white' }
                                                        : { borderColor: '#7B9369', color: '#7B9369', backgroundColor: 'white' }
                                                    }
                                                    onMouseEnter={(e) => {
                                                        if (newRecipe.type !== 'ÁÇäÈ£ØÂô®') e.currentTarget.style.backgroundColor = '#F9F6F1';
                                                    }}
                                                    onMouseLeave={(e) => {
                                                        if (newRecipe.type !== 'ÁÇäÈ£ØÂô®') e.currentTarget.style.backgroundColor = 'white';
                                                    }}
                                                >
                                                    <ChefHat className="mr-2 h-4 w-4" />
                                                    ÁÇäÈ£ØÂô®
                                                </Button>
                                                <Button
                                                    type="button"
                                                    onClick={() => setNewRecipe({...newRecipe, type: '„Ç≥„É≥„É≠'})}
                                                    className="w-full"
                                                    style={newRecipe.type === '„Ç≥„É≥„É≠' 
                                                        ? { backgroundColor: '#B28A63', borderColor: '#B28A63', color: 'white' }
                                                        : { borderColor: '#B28A63', color: '#B28A63', backgroundColor: 'white' }
                                                    }
                                                    onMouseEnter={(e) => {
                                                        if (newRecipe.type !== '„Ç≥„É≥„É≠') e.currentTarget.style.backgroundColor = '#F9F6F1';
                                                    }}
                                                    onMouseLeave={(e) => {
                                                        if (newRecipe.type !== '„Ç≥„É≥„É≠') e.currentTarget.style.backgroundColor = 'white';
                                                    }}
                                                >
                                                    <Flame className="mr-2 h-4 w-4" />
                                                    „Ç≥„É≥„É≠
                                                </Button>
                                            </div>
                                        </div>

                                        <div>
                                            <Label className="text-sm font-medium" style={{ color: '#333333' }}>ÊùêÊñô</Label>
                                            <div className="space-y-2 mt-1.5">
                                                {newRecipe.ingredients.map((ingredient, index) => (
                                                    <div key={index} className="flex gap-2">
                                                        <Input
                                                            placeholder="‰æã: „Åò„ÇÉ„Åå„ÅÑ„ÇÇ"
                                                            value={ingredient}
                                                            onChange={(e) => updateIngredient(index, e.target.value)}
                                                            className="flex-1 bg-white"
                                                            style={{ borderColor: '#E2D9CF', color: '#333333' }}
                                                        />
                                                        {newRecipe.ingredients.length > 1 && (
                                                            <Button
                                                                type="button"
                                                                variant="outline"
                                                                size="sm"
                                                                onClick={() => removeIngredientField(index)}
                                                                style={{ borderColor: '#E2D9CF', backgroundColor: 'white' }}
                                                                onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#FEF5F0'}
                                                                onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'white'}
                                                            >
                                                                <Trash2 className="h-4 w-4 text-red-500" />
                                                            </Button>
                                                        )}
                                                    </div>
                                                ))}
                                                <Button
                                                    type="button"
                                                    variant="outline"
                                                    onClick={addIngredientField}
                                                    className="w-full"
                                                    style={{ borderColor: '#E2D9CF', backgroundColor: 'white', color: '#333333' }}
                                                    onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#F9F6F1'}
                                                    onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'white'}
                                                >
                                                    <Plus className="mr-2 h-4 w-4" />
                                                    ÊùêÊñô„ÇíËøΩÂä†
                                                </Button>
                                            </div>
                                        </div>

                                        <Button 
                                            onClick={addRecipe} 
                                            className="w-full text-white shadow-sm"
                                            style={!newRecipe.name.trim() 
                                                ? { backgroundColor: '#E0C3B5', cursor: 'not-allowed' }
                                                : { backgroundColor: '#C97D60' }
                                            }
                                            onMouseEnter={(e) => {
                                                if (newRecipe.name.trim()) e.currentTarget.style.backgroundColor = '#B46D52';
                                            }}
                                            onMouseLeave={(e) => {
                                                if (newRecipe.name.trim()) e.currentTarget.style.backgroundColor = '#C97D60';
                                            }}
                                            disabled={!newRecipe.name.trim()}
                                        >
                                            <Plus className="mr-2 h-4 w-4" />
                                            ÊñôÁêÜ„ÇíÁôªÈå≤
                                        </Button>
                                    </CardContent>
                                </Card>
                            </TabsContent>
                        </Tabs>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<MealPrepApp />);
    </script>
</body>
</html>
